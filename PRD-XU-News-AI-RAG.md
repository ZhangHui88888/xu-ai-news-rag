# XU-News-AI-RAG 个性化新闻智能知识库产品需求文档 (PRD)

**版本：** 1.0  
**日期：** 2025年10月15日  
**项目代号：** xu-ai-news-rag  

---

## 1. 引言

### 1.1 背景

在信息爆炸的时代，用户每天面对海量新闻信息，难以高效获取和管理个人关注的内容。传统的新闻聚合平台缺乏智能化的知识管理能力，无法实现信息的深度检索、语义理解和个性化分析。

本项目旨在构建一个基于AI技术的个性化新闻智能知识库系统，通过自动化新闻采集、本地大模型部署、向量化检索和智能问答等技术，为用户提供一个高效、智能、可定制的新闻知识管理平台。

### 1.2 目标用户

**主要用户群体：**
- **知识工作者：** 需要持续跟踪特定领域新闻和信息的研究人员、分析师
- **内容创作者：** 需要积累素材、寻找灵感的自媒体从业者、记者
- **企业用户：** 需要行业动态监控和竞品分析的企业决策者
- **个人学习者：** 希望建立个人知识库、深度学习特定主题的终身学习者

**用户特征：**
- 有一定的信息技术使用能力
- 重视数据隐私和本地化部署
- 需要高效的信息检索和知识管理工具
- 对AI辅助的智能化功能有需求

### 1.3 产品愿景

打造一个**智能、安全、高效**的个人新闻知识库平台，让用户能够：
- **自动化采集：** 无需手动收集，系统自动抓取多源新闻信息
- **智能检索：** 通过语义理解而非关键词匹配，精准找到所需信息
- **本地部署：** 数据完全自主可控，保护用户隐私
- **深度分析：** 利用AI能力提供数据聚类、关键词分析等洞察
- **持续学习：** 知识库随时间积累，成为个人专属的智能信息助手

**核心价值主张：** "您的私有AI新闻智能体，让信息为您所用"

---

## 2. 用户故事与场景描述

### 2.1 用户故事

**US-01: 自动新闻采集**
> 作为一名研究人员，我希望系统能自动从RSS源和网页抓取我关注领域的新闻，这样我就不需要每天手动浏览多个网站。

**US-02: 智能语义检索**
> 作为一名分析师，我希望能用自然语言提问（如"最近关于人工智能监管的讨论有哪些"），系统能理解我的意图并返回最相关的内容，而不是简单的关键词匹配。

**US-03: 知识库管理**
> 作为一名内容创作者，我希望能查看、编辑、分类和删除知识库中的条目，添加自定义标签，以便更好地组织我的素材库。

**US-04: 手动上传补充**
> 作为一名企业用户，我希望能上传PDF报告、Word文档等多种格式的文件到知识库，补充系统自动抓取的内容。

**US-05: 联网扩展检索**
> 作为一名学习者，当我的本地知识库没有相关信息时，我希望系统能自动联网搜索并返回经过AI整理的答案。

**US-06: 数据分析洞察**
> 作为一名决策者，我希望看到知识库中的数据聚类分析和关键词趋势，了解我关注的信息领域的热点分布。

**US-07: 新内容通知**
> 作为一名用户，我希望在新信息成功入库后收到邮件通知，及时了解最新采集的内容。

### 2.2 典型使用场景

**场景1：科技从业者的日常信息管理**

张工是一名AI工程师，每天需要了解行业动态：
1. **早晨9点：** 系统定时任务已自动抓取订阅的科技RSS源和特定网站的最新文章
2. **收到邮件：** "您的知识库已更新，新增15条AI相关新闻"
3. **打开系统：** 登录后看到数据列表，按时间筛选今日新增内容
4. **语义检索：** 输入"大模型推理加速的最新方法"，系统返回按相关度排序的5条结果
5. **深度阅读：** 点击感兴趣的条目，查看详情并添加"推理优化"标签
6. **补充资料：** 上传一篇相关的论文PDF到知识库
7. **查看趋势：** 查看本月Top10关键词，发现"端侧部署"热度上升

**场景2：投资分析师的行业研究**

李女士正在准备一份新能源行业报告：
1. **配置采集源：** 添加新能源相关的RSS源和行业网站
2. **等待积累：** 系统运行一周，自动采集100+篇相关报道
3. **开始研究：** 登录系统，提问"比亚迪和特斯拉的竞争态势分析"
4. **获取结果：** 系统从知识库检索相关新闻，AI整合后给出结构化答案
5. **扩展搜索：** 对于知识库没有的"特斯拉最新季度财报"，系统自动联网查询百度，返回最新信息
6. **数据整理：** 批量导出相关条目，使用Excel进一步分析
7. **清理数据：** 删除过时或不相关的条目，保持知识库精简

**场景3：个人学习者的知识积累**

王同学正在学习量子计算：
1. **初始设置：** 订阅量子计算相关的学术网站和科普RSS
2. **持续积累：** 每天系统自动抓取2-5条相关内容
3. **碎片学习：** 午休时登录，查看今日新增内容
4. **深度提问：** "量子纠缠在量子计算中的作用"
5. **知识关联：** 系统返回之前采集的多篇相关文章，帮助建立知识联系
6. **补充笔记：** 上传自己整理的学习笔记到知识库
7. **回顾总结：** 查看聚类分析，了解自己学习的知识结构

---

## 3. 产品范围与功能列表

### 3.1 产品范围 (In Scope)

**核心功能模块：**
1. **自动化新闻采集系统**
2. **本地AI大模型服务**
3. **智能知识库系统**
4. **用户身份认证与管理**
5. **知识库内容管理**
6. **语义检索与智能问答**
7. **数据分析与可视化**
8. **通知提醒系统**

**支持的数据类型：**
- 结构化数据（Excel、CSV、JSON等）
- 非结构化数据（文本、HTML、PDF、Word等）

**部署方式：**
- 本地化部署（优先）
- 支持个人或小团队使用

### 3.2 产品范围 (Out of Scope)

本版本**不包含**以下功能：
- ❌ 多租户SaaS服务（仅支持单用户/单团队部署）
- ❌ 移动端原生APP（仅提供Web端）
- ❌ 实时协作功能（多人同时编辑）
- ❌ 社交分享功能
- ❌ 付费订阅机制
- ❌ 多语言国际化（仅支持中文）
- ❌ 语音交互功能

### 3.3 功能列表

#### 3.3.1 自动化新闻采集（F-01）

| 功能ID | 功能名称 | 优先级 | 描述 |
|--------|---------|--------|------|
| F-01-01 | RSS源订阅管理 | P0 | 支持添加、编辑、删除RSS订阅源 |
| F-01-02 | 网页抓取配置 | P0 | 配置目标网页URL和抓取规则（CSS选择器/XPath） |
| F-01-03 | 定时任务调度 | P0 | 设置采集频率（每小时/每日/自定义Cron表达式） |
| F-01-04 | 智能代理工具集成 | P1 | 支持通过代理IP或第三方工具辅助采集 |
| F-01-05 | 采集日志记录 | P1 | 记录每次采集的时间、数量、成功/失败状态 |
| F-01-06 | 去重机制 | P0 | 基于URL或内容Hash自动去重 |
| F-01-07 | 遵守Robots协议 | P0 | 自动检查并遵守目标网站的robots.txt |

#### 3.3.2 本地AI大模型服务（F-02）

| 功能ID | 功能名称 | 优先级 | 描述 |
|--------|---------|--------|------|
| F-02-01 | Ollama集成 | P0 | 集成Ollama，部署qwen2.5:3b模型 |
| F-02-02 | 嵌入模型服务 | P0 | 部署all-MiniLM-L6-v2嵌入模型 |
| F-02-03 | 重排模型服务 | P1 | 部署ms-marco-MiniLM-L-6-v2重排模型 |
| F-02-04 | 模型健康检查 | P1 | 定期检查模型服务可用性 |
| F-02-05 | 模型切换功能 | P2 | 支持切换不同的大模型 |

#### 3.3.3 智能知识库系统（F-03）

| 功能ID | 功能名称 | 优先级 | 描述 |
|--------|---------|--------|------|
| F-03-01 | 向量化存储 | P0 | 将文本通过嵌入模型转换为向量存储在FAISS |
| F-03-02 | 元数据存储 | P0 | 在MySQL/SQLite存储数据ID、类型、来源、时间、标签等元数据 |
| F-03-03 | 混合存储架构 | P0 | 实现向量数据与元数据的关联与同步 |
| F-03-04 | 数据入库API | P0 | 提供标准化API接口供采集模块调用 |
| F-03-05 | 数据版本管理 | P2 | 支持数据更新时保留历史版本 |

#### 3.3.4 用户身份认证（F-04）

| 功能ID | 功能名称 | 优先级 | 描述 |
|--------|---------|--------|------|
| F-04-01 | 用户注册 | P0 | 邮箱+密码注册，需邮箱验证 |
| F-04-02 | 用户登录 | P0 | 采用JWT或Spring Security实现 |
| F-04-03 | 密码加密存储 | P0 | 使用BCrypt等算法加密存储密码 |
| F-04-04 | 会话管理 | P0 | Token过期时间设置（默认7天） |
| F-04-05 | 密码重置 | P1 | 通过邮箱验证重置密码 |
| F-04-06 | 记住登录状态 | P1 | 支持"记住我"功能 |

#### 3.3.5 知识库内容管理（F-05）

| 功能ID | 功能名称 | 优先级 | 描述 |
|--------|---------|--------|------|
| F-05-01 | 数据列表展示 | P0 | 展示标题、来源、时间、类型、标签等 |
| F-05-02 | 多维度筛选 | P0 | 支持按类型、时间范围、来源、标签筛选 |
| F-05-03 | 搜索功能 | P0 | 基于标题和内容的全文搜索 |
| F-05-04 | 数据详情查看 | P0 | 查看完整内容、元数据和向量相似内容 |
| F-05-05 | 单条删除 | P0 | 删除单条记录（同时删除元数据和向量） |
| F-05-06 | 批量删除 | P0 | 支持多选批量删除 |
| F-05-07 | 元数据编辑 | P0 | 编辑标签、来源、自定义分类等 |
| F-05-08 | 文件上传 | P0 | 支持上传TXT、PDF、Word、Excel等格式 |
| F-05-09 | 批量导入 | P1 | 支持批量上传多个文件 |
| F-05-10 | 数据导出 | P1 | 导出为Excel、JSON、CSV格式 |
| F-05-11 | 分页加载 | P0 | 支持分页和无限滚动 |

#### 3.3.6 语义检索与智能问答（F-06）

| 功能ID | 功能名称 | 优先级 | 描述 |
|--------|---------|--------|------|
| F-06-01 | 语义检索 | P0 | 基于向量相似度的语义检索 |
| F-06-02 | 相似度排序 | P0 | 结果按相似度得分排序返回（Top-K） |
| F-06-03 | 重排优化 | P1 | 使用重排模型进一步优化结果排序 |
| F-06-04 | RAG问答 | P0 | 结合检索结果和大模型生成答案 |
| F-06-05 | 联网查询 | P0 | 知识库无匹配时自动调用百度搜索API |
| F-06-06 | 联网结果推理 | P0 | 返回搜索前3条结果经大模型推理后的输出 |
| F-06-07 | 对话历史 | P1 | 保存用户的查询历史 |
| F-06-08 | 结果高亮 | P1 | 在返回内容中高亮匹配关键部分 |
| F-06-09 | 引用标注 | P1 | 答案中标注来源文章和置信度 |

#### 3.3.7 数据分析与可视化（F-07）

| 功能ID | 功能名称 | 优先级 | 描述 |
|--------|---------|--------|------|
| F-07-01 | 关键词提取 | P0 | 从知识库内容中提取关键词 |
| F-07-02 | Top10关键词展示 | P0 | 展示频次最高的10个关键词及其分布 |
| F-07-03 | 数据聚类分析 | P0 | 基于向量相似度的聚类分析 |
| F-07-04 | 可视化图表 | P1 | 使用柱状图、词云图等展示 |
| F-07-05 | 时间趋势分析 | P1 | 展示关键词随时间的热度变化 |
| F-07-06 | 数据统计面板 | P1 | 展示总条目数、今日新增、数据类型分布等 |

#### 3.3.8 通知提醒系统（F-08）

| 功能ID | 功能名称 | 优先级 | 描述 |
|--------|---------|--------|------|
| F-08-01 | 邮件通知配置 | P0 | 配置SMTP服务器信息 |
| F-08-02 | 入库成功通知 | P0 | 信息入库成功后发送邮件 |
| F-08-03 | 自定义邮件模板 | P0 | 支持自定义邮件标题和内容 |
| F-08-04 | 采集失败通知 | P1 | 采集任务失败时发送告警邮件 |
| F-08-05 | 通知频率控制 | P1 | 避免频繁发送（如合并为每日摘要） |

---

## 4. AI 产品特定需求

### 4.1 模型需求

#### 4.1.1 大语言模型（LLM）

**模型选择：** Ollama qwen2.5:3b

**功能需求：**
- 文本生成与理解
- 基于检索内容的答案生成（RAG）
- 多轮对话支持
- 联网搜索结果的摘要与推理

**性能指标：**
- **响应时间：** 单次推理 < 5秒（本地部署，CPU环境）
- **上下文窗口：** ≥ 8K tokens
- **准确率：** 对于事实性问答，准确率 > 85%
- **并发支持：** 支持至少3个并发请求

**资源需求：**
- 内存：8GB RAM
- 存储：模型文件约2-3GB
- 推理设备：支持CPU推理，GPU可选加速

#### 4.1.2 嵌入模型（Embedding Model）

**模型选择：** all-MiniLM-L6-v2

**功能需求：**
- 将文本转换为384维向量
- 支持中英文混合文本
- 语义相似度计算

**性能指标：**
- **向量化速度：** 单文档（1000字符）< 100ms
- **批处理能力：** 支持批量向量化（batch size=32）
- **相似度准确性：** 在标准数据集上 NDCG@10 > 0.75

#### 4.1.3 重排模型（Rerank Model）

**模型选择：** ms-marco-MiniLM-L-6-v2

**功能需求：**
- 对检索结果进行二次排序
- 提升Top-K结果的相关性

**性能指标：**
- **重排速度：** 10条结果重排 < 200ms
- **提升效果：** 相比初排，MRR提升 > 10%

### 4.2 数据需求

#### 4.2.1 数据来源

**自动采集源：**
1. **RSS订阅：**
   - 新浪科技、36氪、虎嗅网、TechCrunch等科技媒体RSS
   - 行业垂直领域RSS源
   - 学术网站如arXiv、Google Scholar（如果有RSS）

2. **网页抓取：**
   - 新闻网站文章页
   - 论坛帖子（如知乎、V2EX）
   - 企业官网动态

3. **第三方API：**
   - 百度搜索API（用于联网查询）
   - 其他新闻聚合API（可选）

**手动上传：**
- 用户自有文档（PDF、Word、TXT）
- 结构化数据表格（Excel、CSV）
- 网页离线保存（HTML、MHTML）

#### 4.2.2 数据数量

**初期目标（1个月）：**
- 自动采集：1000+ 条新闻/文章
- 手动上传：50+ 个文档

**稳定运行（3个月）：**
- 知识库规模：5000+ 条目
- 日新增：30-50 条

**存储容量规划：**
- 向量数据：10万条目约 150GB（384维浮点向量）
- 元数据：10万条目约 1GB（MySQL）
- 原始文本：10万条目约 5GB

#### 4.2.3 数据质量

**质量标准：**
1. **完整性：** 标题、正文、来源、时间等字段完整
2. **准确性：** 抓取内容与原文一致，无乱码
3. **时效性：** 新闻发布时间准确记录
4. **去重：** 无重复条目（基于URL或内容Hash）
5. **清洁度：** 去除HTML标签、广告、导航栏等噪音

**数据清洗流程：**
- HTML解析与正文提取
- 文本清洗（去特殊字符、统一编码）
- 长度过滤（正文 > 100字符）
- 质量评分（可读性检查）

#### 4.2.4 数据标注

本项目为**无监督学习**场景，无需人工标注。

**自动元数据提取：**
- 标题、作者、来源、发布时间（从网页结构化数据提取）
- 自动标签（基于关键词提取或LLM生成）
- 分类（基于聚类分析自动归类）

**用户自定义标注：**
- 用户可手动添加标签
- 用户可修改分类和优先级

### 4.3 算法边界与可解释性

#### 4.3.1 算法边界

**已知限制：**

1. **语义检索局限：**
   - 对于专业领域的专有名词，嵌入模型可能理解不准确
   - 跨语言检索能力有限（主要支持中文）
   - 极短查询（<3个字）可能检索效果不佳

2. **大模型能力边界：**
   - qwen2.5:3b 为小参数模型，复杂推理能力有限
   - 可能产生幻觉（Hallucination），输出不存在的信息
   - 对于需要精确计算的问题（如数学题）准确率较低

3. **联网查询限制：**
   - 依赖百度搜索API的可用性和质量
   - 仅返回前3条结果，可能遗漏重要信息
   - 实时性受搜索引擎索引延迟影响

4. **网页抓取限制：**
   - 动态渲染网站（JavaScript生成内容）需要特殊处理
   - 受robots.txt和反爬虫机制限制
   - 网站结构变化可能导致抓取规则失效

**边界说明与用户引导：**
- 在UI中明确标注AI生成内容，提示"以下内容由AI生成，仅供参考"
- 对于联网查询结果，标注"来源于网络搜索"
- 提供反馈机制，让用户标记不准确的结果

#### 4.3.2 可解释性

**检索结果可解释性：**
1. **相似度得分：** 每条检索结果显示相似度分数（0-1）
2. **匹配片段高亮：** 在原文中高亮与查询相关的片段
3. **来源标注：** 清晰展示信息来源（网站、时间、作者）

**AI回答可解释性：**
1. **引用来源：** 答案中引用的知识库条目可点击查看原文
2. **置信度指示：** 标注答案的可信程度（高/中/低）
3. **生成过程透明化：**
   - 显示"检索到X条相关内容"
   - 显示"基于以下内容生成答案"，并列出引用片段

**数据分析可解释性：**
1. **关键词提取算法说明：** 简要说明使用TF-IDF或TextRank算法
2. **聚类结果可视化：** 通过降维（如t-SNE）展示聚类分布
3. **数据统计透明：** 明确展示统计口径和时间范围

### 4.4 评估标准

#### 4.4.1 系统性能评估

| 指标类别 | 指标名称 | 目标值 | 测试方法 |
|---------|---------|--------|---------|
| **检索准确性** | Recall@10 | > 80% | 人工构建测试集（100条查询） |
| **检索准确性** | Precision@10 | > 70% | 同上 |
| **检索速度** | 平均检索时间 | < 1秒 | 压力测试（1000条库，100次查询） |
| **问答质量** | 答案准确率 | > 85% | 人工评估（50个问题） |
| **问答速度** | 端到端响应时间 | < 8秒 | 包含检索+推理全流程 |
| **采集成功率** | 采集任务成功率 | > 95% | 监控7天采集日志 |
| **去重准确性** | 重复率 | < 2% | 随机抽样1000条检查 |

#### 4.4.2 用户体验评估

| 指标类别 | 指标名称 | 目标值 | 测试方法 |
|---------|---------|--------|---------|
| **易用性** | 首次使用成功率 | > 90% | 用户测试（10人） |
| **易用性** | 平均学习时间 | < 30分钟 | 用户访谈 |
| **满意度** | NPS净推荐值 | > 40 | 问卷调查 |
| **可靠性** | 系统可用性 | > 99% | 7×24小时监控 |
| **响应速度** | 页面加载时间 | < 2秒 | 前端性能监控 |

#### 4.4.3 AI能力评估

| 能力维度 | 评估方法 | 通过标准 |
|---------|---------|---------|
| **语义理解** | 同义词查询测试 | 80%能正确匹配 |
| **多轮对话** | 上下文关联测试 | 70%能理解上下文 |
| **事实准确性** | 对比原文检验 | 90%事实正确 |
| **拒识能力** | 超范围问题测试 | 80%能正确回答"不知道" |
| **时效性** | 最新信息查询 | 能检索到24小时内新增内容 |

### 4.5 伦理与合规

#### 4.5.1 数据合规

**网络爬虫规范：**
1. **遵守Robots协议：** 自动检查并遵守robots.txt规定
2. **合理请求频率：** 默认间隔5秒，避免对目标网站造成压力
3. **User-Agent声明：** 明确标识爬虫身份和联系方式
4. **尊重版权：** 
   - 仅供个人学习研究使用
   - 不进行商业转载和二次传播
   - 在展示时保留原文来源链接

**隐私保护：**
1. **用户数据本地化：** 所有数据存储在用户本地服务器
2. **密码安全：** 采用BCrypt加密，不存储明文密码
3. **无数据上传：** 系统不向外部服务器上传用户数据（除联网查询API）
4. **日志脱敏：** 系统日志不记录用户敏感信息

#### 4.5.2 内容安全

**有害内容过滤：**
1. **敏感词过滤：** 建立敏感词库，过滤违法违规内容
2. **内容审核：** 对采集内容进行基础的内容安全检查
3. **用户举报：** 提供内容举报功能

**免责声明：**
- 系统首页明确说明"内容来源于互联网，仅供学习研究"
- AI生成内容标注"由AI生成，不代表事实"
- 建议用户对重要信息进行二次验证

#### 4.5.3 AI伦理

**透明性原则：**
- 明确告知用户哪些内容由AI生成
- 说明系统使用的AI模型和技术

**公平性原则：**
- 检索排序不因来源偏好而倾斜
- 避免算法偏见（Bias）影响结果

**可控性原则：**
- 用户可以关闭联网查询功能
- 用户可以选择是否接收AI生成的答案
- 用户可以删除任何不想保留的数据

**安全性原则：**
- 防止Prompt注入攻击
- 限制用户查询频率，防止滥用
- 模型部署在本地，避免数据泄露

---

## 5. 非功能性需求

### 5.1 性能需求

| 性能指标 | 目标值 | 说明 |
|---------|-------|------|
| **响应时间** | - 页面加载 < 2秒<br>- 语义检索 < 1秒<br>- AI问答 < 8秒 | 在本地网络环境下 |
| **并发能力** | 支持10个并发用户 | 单机部署场景 |
| **数据容量** | 支持10万条知识库条目 | 不影响检索性能 |
| **采集效率** | 每小时可采集100+条新闻 | 依赖网络和源站性能 |
| **系统资源** | - CPU占用 < 50%<br>- 内存占用 < 8GB<br>- 磁盘I/O < 100MB/s | 空闲时基线值 |

### 5.2 安全性需求

**身份认证与授权：**
- 采用JWT或Spring Security实现身份验证
- Session超时时间：30分钟无操作自动登出
- 密码强度要求：至少8位，包含字母+数字
- 防暴力破解：连续5次登录失败锁定账户15分钟

**数据安全：**
- 数据库连接加密
- API接口HTTPS加密传输（生产环境）
- 定期数据备份（每日自动备份）
- 敏感配置（如API Key）加密存储

**应用安全：**
- 防SQL注入：使用参数化查询
- 防XSS攻击：前端输出转义
- 防CSRF攻击：使用Token验证
- 文件上传安全：限制文件类型和大小，扫描恶意文件

**API安全：**
- API访问需携带有效Token
- API调用频率限制（Rate Limiting）：100次/分钟
- 敏感操作（删除、修改）二次确认

### 5.3 可用性需求

**系统可用性：**
- 目标可用性：99%（允许每月停机7.2小时）
- 自动重启机制：服务异常时自动重启
- 健康检查：每分钟检查核心服务状态

**易用性：**
- 界面语言：简体中文
- 响应式设计：支持桌面（1920×1080）和笔记本（1366×768）分辨率
- 操作引导：首次使用提供新手引导
- 帮助文档：提供在线帮助和FAQ

**可维护性：**
- 日志系统：完善的日志记录（INFO/WARN/ERROR级别）
- 监控面板：展示系统运行状态和关键指标
- 配置管理：关键参数可通过配置文件修改，无需改代码
- 模块化设计：各模块低耦合，便于升级维护

### 5.4 兼容性需求

**浏览器支持：**
- Chrome 90+（主要支持）
- Edge 90+
- Firefox 90+

**操作系统支持：**
- Windows 10/11
- macOS 11+
- Linux（Ubuntu 20.04+, CentOS 8+）

**数据库支持：**
- MySQL 8.0+ 或 SQLite 3.35+
- FAISS 1.7+

**依赖服务：**
- Java 11+（后端如采用SpringBoot）
- Node.js 16+（前端构建）
- Ollama 0.1+

### 5.5 可扩展性需求

**功能扩展：**
- 插件化架构：支持添加新的数据源插件（如Twitter API、微信公众号）
- 模型可替换：支持切换不同的嵌入模型和大模型
- API开放：提供RESTful API供第三方集成

**性能扩展：**
- 数据库读写分离（未来优化）
- FAISS索引分片（支持>100万数据）
- 缓存机制：Redis缓存热点查询（可选）

### 5.6 可观测性需求

**日志需求：**
- 应用日志：记录关键操作和异常
- 访问日志：记录API调用和用户操作
- 采集日志：记录每次采集任务详情
- 日志保留：30天，超过自动清理

**监控需求：**
- 系统指标：CPU、内存、磁盘、网络
- 应用指标：QPS、响应时间、错误率
- 业务指标：日新增条目数、查询次数、用户活跃度
- 告警机制：关键服务宕机时邮件告警

---

## 6. 发布标准与衡量指标

### 6.1 MVP（最小可行产品）发布标准

**核心功能完成：**
- ✅ RSS自动采集（F-01-01, 02, 03, 06）
- ✅ 大模型集成（F-02-01, 02）
- ✅ 知识库存储（F-03-01, 02, 03, 04）
- ✅ 用户登录（F-04-01, 02, 03, 04）
- ✅ 数据列表与筛选（F-05-01, 02, 05, 06, 07）
- ✅ 语义检索与RAG问答（F-06-01, 02, 04, 05, 06）
- ✅ Top10关键词展示（F-07-01, 02）
- ✅ 邮件通知（F-08-01, 02, 03）

**质量标准：**
- 无P0级Bug
- 核心功能测试覆盖率 > 80%
- API测试通过率 > 95%
- 性能达标（响应时间、并发能力）

**文档完备：**
- ✅ 部署文档（README.md）
- ✅ API文档
- ✅ 用户手册
- ✅ 数据库SQL脚本

### 6.2 衡量指标（Launch Metrics）

#### 6.2.1 技术指标

| 指标 | 目标值 | 监控方式 |
|-----|-------|---------|
| 系统正常运行时间 | > 99% | 监控面板 |
| API平均响应时间 | < 500ms | 日志分析 |
| 数据采集成功率 | > 95% | 采集日志 |
| 知识库数据量 | 1000+ 条（首月） | 数据库统计 |
| 零数据丢失 | 100% | 数据备份验证 |

#### 6.2.2 用户指标

| 指标 | 目标值 | 监控方式 |
|-----|-------|---------|
| 注册用户数 | 10+ （内测） | 用户统计 |
| 日活跃用户（DAU） | 5+ | 登录日志 |
| 平均会话时长 | > 10分钟 | 用户行为分析 |
| 用户留存率（7日） | > 60% | 用户行为分析 |

#### 6.2.3 业务指标

| 指标 | 目标值 | 监控方式 |
|-----|-------|---------|
| 日均查询次数 | 50+ | 查询日志 |
| 查询满意度 | > 80% | 用户反馈 |
| 知识库上传文件数 | 20+ | 上传统计 |
| 邮件通知送达率 | > 98% | SMTP日志 |

### 6.3 发布后优化计划

**第一阶段（1-2周）：**
- 收集用户反馈，修复高优先级Bug
- 优化检索准确率和响应速度
- 完善文档和帮助信息

**第二阶段（1个月）：**
- 新增P1优先级功能（重排模型、对话历史、数据可视化）
- 性能优化（缓存、索引优化）
- 用户体验改进（交互优化、UI美化）

**第三阶段（3个月）：**
- 新增高级功能（数据版本管理、模型切换、批量导入）
- 支持更多数据源（API集成、浏览器插件）
- 社区建设（使用案例分享、用户社群）

---

## 7. 待定项与未来规划

### 7.1 当前待定项

**技术选型待定：**
- [ ] 前端框架：React vs Vue（倾向Vue 3 + Element Plus）
- [ ] 后端框架：Spring Boot（已确定）
- [ ] 关系数据库：MySQL（已确定）

**功能细节待定：**
- [ ] 联网查询API：百度搜索 vs 其他搜索引擎API（价格、可用性需评估）
- [ ] 文件上传大小限制：单文件10MB vs 50MB
- [ ] 数据保留策略：是否自动清理过期数据（如1年前的新闻）

**部署方式待定：**
- [ ] 是否提供Docker镜像一键部署
- [ ] 是否提供Windows安装包

### 7.2 未来规划（V2.0及以后）

#### 7.2.1 功能增强

**智能化升级：**
- 🔮 个性化推荐：根据用户阅读历史推荐相关内容
- 🔮 自动摘要：为长文自动生成摘要
- 🔮 情感分析：分析新闻情感倾向（正面/负面/中性）
- 🔮 实体识别：自动提取人名、地名、机构名等实体
- 🔮 知识图谱：构建新闻中实体和事件的关系图谱

**协作功能：**
- 🔮 多用户协作：团队共享知识库
- 🔮 评论与标注：用户可对内容评论和高亮批注
- 🔮 分享功能：生成分享链接给其他用户

**数据源扩展：**
- 🔮 社交媒体监控：Twitter、微博、微信公众号
- 🔮 视频转文本：YouTube、B站视频字幕抓取
- 🔮 播客转文本：音频转文字入库
- 🔮 邮件集成：自动导入邮件内容

#### 7.2.2 技术架构优化

**性能优化：**
- 分布式部署：支持多机分布式架构
- GPU加速：支持GPU推理提升速度
- 增量索引：FAISS增量更新而非全量重建
- CDN加速：静态资源CDN加速

**智能化运维：**
- 自动容量规划：预测存储需求
- 智能告警：异常检测与预警
- 自动调优：根据负载自动调整参数

#### 7.2.3 商业化探索（可选）

- SaaS多租户版本
- 企业级功能（权限管理、审计日志）
- 定制化部署服务
- 技术咨询与培训

### 7.3 技术债务管理

**已知技术债：**
1. MVP阶段为快速上线，部分代码测试覆盖不足
2. 前端状态管理可能较为简单，复杂场景需重构
3. 未实现完整的CI/CD流程

**偿还计划：**
- Q2 2026：补充单元测试至覆盖率80%+
- Q3 2026：建立完整CI/CD流水线
- Q4 2026：代码重构与架构优化

---

## 附录

### A. 术语表

| 术语 | 英文 | 说明 |
|-----|------|------|
| RAG | Retrieval-Augmented Generation | 检索增强生成，结合检索和生成的AI技术 |
| 向量数据库 | Vector Database | 存储和检索高维向量的专用数据库 |
| FAISS | Facebook AI Similarity Search | Meta开源的高效相似度搜索库 |
| LLM | Large Language Model | 大语言模型 |
| 嵌入模型 | Embedding Model | 将文本转换为向量的模型 |
| JWT | JSON Web Token | 一种身份验证标准 |
| NPS | Net Promoter Score | 净推荐值，衡量用户满意度 |
| MRR | Mean Reciprocal Rank | 平均倒数排名，检索评估指标 |
| TF-IDF | Term Frequency-Inverse Document Frequency | 关键词提取算法 |

### B. 参考资料

- LangChain官方文档：https://python.langchain.com/
- FAISS Wiki：https://github.com/facebookresearch/faiss/wiki
- Ollama文档：https://ollama.ai/docs
- Sentence Transformers：https://www.sbert.net/
- Spring Security指南：https://spring.io/projects/spring-security

### C. 变更记录

| 版本 | 日期 | 作者 | 变更内容 |
|-----|------|------|---------|
| 1.0 | 2025-10-15 | AI产品团队 | 初始版本 |

---

**文档结束**

**审批流程：**
- [ ] 产品经理审批
- [ ] 技术负责人审批
- [ ] 项目经理审批

**下一步行动：**
1. 召开PRD评审会议
2. 技术团队完成技术方案设计
3. UI/UX团队完成原型设计
4. 开发团队评估工作量和排期

