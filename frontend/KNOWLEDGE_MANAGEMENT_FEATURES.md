# 知识库管理页面功能说明

## 📋 功能概览

知识库管理页面现已支持完整的CRUD操作和高级筛选功能。

## ✨ 新增功能

### 1. 高级筛选器

#### 1.1 类型筛选
- 支持按内容类型筛选：新闻、文章、文档、测试、其他
- 下拉选择，实时筛选

#### 1.2 时间范围筛选
- 支持按创建时间范围筛选
- 日期范围选择器，选择开始日期和结束日期
- 实时筛选

#### 1.3 关键词搜索
- 支持按标题或内容搜索
- 模糊匹配
- 支持回车键快速搜索

#### 1.4 重置功能
- 一键清除所有筛选条件
- 恢复到默认列表视图

### 2. 批量操作

#### 2.1 表格多选
- 支持复选框多选
- 显示已选择条目数量

#### 2.2 批量删除
- 支持批量删除选中的知识条目
- 显示删除进度和结果（成功/失败数量）
- 二次确认防止误操作

### 3. 元数据编辑

#### 3.1 可编辑字段
- **标题**：知识条目标题
- **摘要**：简短摘要说明
- **内容类型**：新闻/文章/文档/测试/其他
- **来源**：来源名称
- **来源URL**：原文链接
- **作者**：作者名称
- **标签**：多标签支持（逗号分隔）

#### 3.2 编辑方式
- 点击操作列的"编辑"按钮
- 弹出对话框表单编辑
- 实时保存，自动刷新列表

### 4. 分页增强

#### 4.1 分页大小调整
- 支持10、20、50、100条/页
- 用户可自定义每页显示数量

#### 4.2 页码跳转
- 支持直接输入页码跳转
- 显示总记录数

### 5. 界面优化

#### 5.1 类型标签
- 不同类型使用不同颜色标签
- 新闻：绿色
- 文章：蓝色
- 文档：灰色
- 测试：橙色
- 其他：默认

#### 5.2 排序功能
- 创建时间可排序
- 浏览次数可排序

#### 5.3 文本溢出处理
- 长标题显示省略号
- 鼠标悬停显示完整内容

## 🔌 API接口

### 后端新增接口

1. **批量删除**
   ```
   POST /api/knowledge/batch-delete
   Body: { "ids": [1, 2, 3] }
   ```

2. **更新元数据**
   ```
   PUT /api/knowledge/{id}
   Body: { "title": "...", "sourceName": "...", ... }
   ```

3. **列表查询（增强）**
   ```
   GET /api/knowledge/list?page=1&size=10&keyword=...&contentType=news&startDate=2025-01-01&endDate=2025-12-31
   ```

## 📝 使用说明

### 筛选知识条目
1. 在顶部工具栏选择类型
2. 选择时间范围
3. 输入关键词
4. 点击"搜索"按钮或按回车

### 批量删除
1. 勾选要删除的条目
2. 点击"批量删除"按钮
3. 确认操作

### 编辑元数据
1. 点击某条记录的"编辑"按钮
2. 在弹出的对话框中修改信息
3. 点击"保存"

### 查看详情
1. 点击某条记录的"查看"按钮
2. 在详情对话框中查看完整内容

## 🚀 部署说明

### 前端部署
前端代码已更新，无需额外配置。

### 后端部署
后端已添加新接口，需要重启Docker服务：

```bash
cd /path/to/xu-ai-news-rag
docker-compose up -d --build backend
```

## 🎯 注意事项

1. **批量删除**：删除操作不可恢复，请谨慎操作
2. **元数据编辑**：仅更新元数据，不修改内容正文
3. **标签格式**：多个标签用英文逗号分隔，如：`AI, 机器学习, 深度学习`
4. **时间筛选**：按创建时间筛选，不是发布时间
5. **类型筛选**：需要数据库中已有对应类型的数据

## 📊 功能对比

| 功能 | 之前 | 现在 |
|------|------|------|
| 筛选 | 仅支持关键词 | 类型+时间+关键词 |
| 删除 | 仅单条删除 | 单条+批量删除 |
| 编辑 | 不支持 | 完整元数据编辑 |
| 分页 | 固定10条/页 | 可选10/20/50/100 |
| 排序 | 仅按时间 | 时间+浏览量 |

## 🔄 后续优化建议

1. 导出功能（Excel/CSV）
2. 批量编辑功能
3. 标签管理（预设标签）
4. 高级搜索（正则表达式）
5. 数据统计（按类型/时间维度）

